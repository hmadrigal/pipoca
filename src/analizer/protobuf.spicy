module PROTOBUF;

import spicy;

# See Protobuf encoding at https://protobuf.dev/programming-guides/encoding/

public type Varint = unit {
    f0: uint8[] &until-including=($$ & uint8(8) != 0) foreach { print "0x%x" % $$; }

    on %done { self; }
};